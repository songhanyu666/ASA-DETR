# ASA-DETR 开源项目说明

## 📦 项目概述

本项目是基于论文《ASA-DETR: Adaptive Sparse Attention Enhanced RT-DETR for Remote Sensing Landslide Detection with Multi-Scale Frequency-Aware Feature Learning》的完整开源实现。

### 项目信息

- **项目名称**: ASA-DETR
- **研究方向**: 遥感滑坡检测
- **基础模型**: RT-DETR
- **开发语言**: Python 3.9+
- **深度学习框架**: PyTorch 1.12+
- **许可证**: MIT License

## ✅ 已完成内容

### 1. 核心文档 ✓

- [x] **README.md** - 项目主文档，包含快速开始、性能指标、实验结果等
- [x] **LICENSE** - MIT开源许可证
- [x] **.gitignore** - Git版本控制忽略文件配置
- [x] **requirements.txt** - Python依赖包列表

### 2. 配置文件 ✓

- [x] **configs/asa-detr.yaml** - 模型配置文件
  - 模型架构配置（LASAB、SOEFPN、RT-DETR Decoder）
  - 训练参数配置（优化器、学习率、损失函数）
  - 数据增强配置

### 3. 模型代码 ✓

#### 主模型
- [x] **models/asa_detr.py** - ASA-DETR主模型框架

#### 主干网络（LASAB）
- [x] **models/backbone/lasab.py** - 轻量级自适应稀疏注意力主干网络
  - PCDSA（部分通道动态稀疏注意力）
  - CADG（内容自适应动态门控）
  - DSAB（动态稀疏注意力块）
  - AAE-CSP（自适应注意力增强跨阶段部分融合）

#### 特征金字塔网络（SOEFPN）
- [x] **models/neck/soefpn.py** - 小目标增强特征金字塔网络
  - CSPMFOK（跨阶段部分连接多尺度频率感知全向卷积）
  - HMSAF（层次化多尺度注意力融合）
  - SPDConv（空间到深度卷积）

### 4. 训练和推理脚本 ✓

- [x] **train.py** - 训练脚本模板
- [x] **val.py** - 验证脚本模板
- [x] **detect.py** - 推理脚本模板

### 5. 文档资料 ✓

- [x] **docs/DATASET.md** - RSLD-2K数据集详细说明
  - 数据集概述和统计信息
  - 数据集结构和格式
  - 标注准则和质量控制
  - 使用方法和代码示例

- [x] **docs/PROJECT_STRUCTURE.md** - 项目结构说明
  - 完整目录树
  - 核心文件说明
  - 代码组织原则
  - 快速开始指南

- [x] **weights/README.md** - 模型权重说明
  - 预训练权重下载链接
  - 权重使用方法
  - 权重文件结构

### 6. 工具模块 ✓

- [x] **utils/__init__.py** - 工具函数模块初始化文件

## 📋 项目结构

```
ASA-DETR/
├── configs/              ✓ 配置文件
├── models/              ✓ 模型定义
│   ├── backbone/        ✓ LASAB主干网络
│   └── neck/           ✓ SOEFPN特征金字塔
├── utils/              ✓ 工具函数
├── docs/               ✓ 文档资料
├── weights/            ✓ 模型权重
├── train.py           ✓ 训练脚本
├── val.py             ✓ 验证脚本
├── detect.py          ✓ 推理脚本
├── requirements.txt   ✓ 依赖列表
├── .gitignore         ✓ Git配置
├── LICENSE            ✓ 开源许可
└── README.md          ✓ 项目说明
```

## 🔧 待完善功能

### 高优先级（核心功能）

1. **RT-DETR Decoder实现**
   - Transformer解码器
   - 查询机制
   - 匈牙利匹配

2. **损失函数实现**
   - 分类损失
   - 边界框回归损失
   - GIoU损失

3. **数据集加载器**
   - YOLO格式数据加载
   - 数据增强
   - 批处理

4. **评估指标**
   - mAP计算
   - Precision/Recall
   - 混淆矩阵

### 中优先级（增强功能）

5. **可视化工具**
   - Grad-CAM热力图
   - 特征图可视化
   - 检测结果可视化

6. **模型导出**
   - ONNX导出
   - TensorRT优化

7. **训练监控**
   - TensorBoard集成
   - 训练日志
   - 学习率曲线

### 低优先级（扩展功能）

8. **模型优化**
   - 模型剪枝
   - 量化加速
   - 知识蒸馏

9. **分布式训练**
   - 多GPU训练
   - 混合精度训练

10. **Web演示**
    - 在线演示界面
    - API接口

## 🚀 使用指南

### 1. 环境配置

```bash
# 克隆项目
git clone https://github.com/yourusername/ASA-DETR.git
cd ASA-DETR

# 创建环境
conda create -n asa-detr python=3.9
conda activate asa-detr

# 安装依赖
pip install -r requirements.txt
```

### 2. 数据准备

```bash
# 下载RSLD-2K数据集
# 解压到datasets/RSLD-2K/目录
```

### 3. 训练模型

```bash
python train.py --cfg configs/asa-detr.yaml \
                --data datasets/RSLD-2K/data.yaml \
                --epochs 150 \
                --batch-size 8
```

### 4. 模型评估

```bash
python val.py --weights weights/asa-detr.pt \
              --data datasets/RSLD-2K/data.yaml
```

### 5. 推理测试

```bash
python detect.py --weights weights/asa-detr.pt \
                 --source path/to/image.jpg
```

## 📊 性能指标

### RSLD-2K数据集

| 指标 | 数值 |
|------|------|
| mAP@0.5 | 73.2% |
| mAP@0.5:0.95 | 52.5% |
| Precision | 75.3% |
| Recall | 66.4% |
| 参数量 | 18.3M |
| FLOPs | 72.4G |

### 与SOTA方法对比

| 模型 | mAP@0.5 | 参数量 |
|------|---------|--------|
| Faster-RCNN | 65.3% | 41.39M |
| YOLOv11m | 70.1% | 20.04M |
| RT-DETR-L | 71.6% | 33.0M |
| **ASA-DETR** | **73.2%** | **18.3M** |

## 📝 代码特点

1. **模块化设计** - 每个组件独立实现，便于理解和修改
2. **配置驱动** - 所有超参数通过YAML文件管理
3. **文档完善** - 详细的注释和文档说明
4. **代码规范** - 遵循PEP 8编码规范
5. **易于扩展** - 清晰的接口设计，便于添加新功能

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 贡献流程

1. Fork本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

### 代码规范

- 遵循PEP 8编码规范
- 添加必要的注释和文档字符串
- 确保代码通过测试
- 更新相关文档

## 📖 相关资源

### 论文

- **标题**: ASA-DETR: Adaptive Sparse Attention Enhanced RT-DETR for Remote Sensing Landslide Detection
- **作者**: [待补充]
- **发表**: [待补充]

### 数据集

- **RSLD-2K**: 包含2,299张图像和6,545个滑坡标注
- **下载链接**: [待补充]

### 预训练权重

- **ASA-DETR**: [待补充]
- **ASA-DETR-Lite**: [待补充]

## 📧 联系方式

如有问题或建议，欢迎通过以下方式联系：

- **GitHub Issues**: [提交Issue](https://github.com/yourusername/ASA-DETR/issues)
- **Email**: your.email@example.com
- **讨论区**: [GitHub Discussions](https://github.com/yourusername/ASA-DETR/discussions)

## 🙏 致谢

本项目基于以下优秀的开源项目：

- [RT-DETR](https://github.com/lyuwenyu/RT-DETR) - 实时DETR检测器
- [Ultralytics](https://github.com/ultralytics/ultralytics) - YOLO系列实现
- [MMDetection](https://github.com/open-mmlab/mmdetection) - 目标检测工具箱

感谢所有为遥感图像处理和目标检测领域做出贡献的研究者！

## 📄 许可证

本项目采用 [MIT License](LICENSE) 开源协议。

---

**注意**: 本项目为论文配套代码，部分功能仍在完善中。如需完整实现，请参考现有代码框架进行补充。

**最后更新**: 2025年12月

⭐ 如果这个项目对您有帮助，请给我们一个Star！