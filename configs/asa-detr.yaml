# ASA-DETR配置文件

# 模型配置
model:
  type: ASA-DETR
  backbone:
    type: LASAB
    depth: [3, 6, 6, 3]
    channels: [64, 128, 256, 512]
    use_aae_csp: True
    pcdsa_ratio: 0.5
    cadg_enabled: True
  
  neck:
    type: SOEFPN
    in_channels: [128, 256, 512]
    out_channels: 256
    use_cspmfok: True
    use_hmsaf: True
    use_spd_conv: True
  
  head:
    type: RTDETRDecoder
    num_classes: 1  # 滑坡检测为单类别
    num_queries: 300
    hidden_dim: 256
    num_heads: 8
    num_decoder_layers: 6

# 训练配置
train:
  epochs: 150
  batch_size: 8
  num_workers: 4
  
  optimizer:
    type: AdamW
    lr: 0.0001
    weight_decay: 0.0001
    betas: [0.9, 0.999]
  
  scheduler:
    type: cosine
    min_lr: 0.000001
    warmup_epochs: 5
    warmup_lr: 0.00001
  
  loss:
    cls_weight: 1.0
    bbox_weight: 5.0
    giou_weight: 2.0

# 数据增强
augmentation:
  mosaic: 1.0
  mixup: 0.5
  hsv_h: 0.015
  hsv_s: 0.7
  hsv_v: 0.4
  degrees: 0.0
  translate: 0.1
  scale: 0.5
  shear: 0.0
  perspective: 0.0
  flipud: 0.0
  fliplr: 0.5

# 数据集配置
data:
  train: datasets/RSLD-2K/images/train
  val: datasets/RSLD-2K/images/val
  test: datasets/RSLD-2K/images/test
  nc: 1  # 类别数
  names: ['landslide']  # 类别名称

# 其他配置
device: 0  # GPU设备ID
img_size: 640  # 输入图像尺寸
save_period: 10  # 保存周期
val_period: 5  # 验证周期